□A問題  
問題文通り実装する。

□B問題  
累積の値を取って、(i, j)で順々にfor文を回せば良い。

□C問題  
クエリが指定したマスの左右を見ていくことで分かる。  
例えばあるマスが白→黒になったとき、左右が白なら区間の数は減るし、黒なら数は増える。  
左右の色が違うなら、増減なし。

□D問題  
t番目のクエリを処理したときのPCiの文字列をf(t, i)とすると、任意のtについて、t番目のクエリが  
1 p のとき、f(t, p) = f(t-1, p) (i == p)  
2 p s のとき、f(t, p) = f(t-1, p) + s (i == p)  
3 p のとき、f(t, 0) = f(t-1, p) (i == p)  
求めたい値はf(Q, 0)なので、上記関係式をQから遡っていくと、最終的にはあるiに対するf(0, i)を求める問題に帰着する。

□E問題  


□F問題  


□G問題  

